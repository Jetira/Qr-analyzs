# QR Security Service - Environment Configuration Template
# Copy this file to .env and configure for your environment

# ==============================================================================
# Database Configuration
# ==============================================================================

# PostgreSQL connection string
# Format: postgresql+asyncpg://user:password@host:port/database
# 
# For Docker Compose: Use service name 'db' as host
# For local development: Use 'localhost'
DATABASE_URL=postgresql+asyncpg://postgres:postgres@db:5432/qr_security

# ==============================================================================
# Security Configuration
# ==============================================================================

# Official company domains (comma-separated, no spaces)
# These domains will be considered safe during QR analysis
# 
# IMPORTANT: Replace with your actual production domains!
# Examples:
# - Main domain: mycompany.com
# - Subdomains: charge.mycompany.com, app.mycompany.com
# - Multiple TLDs: mycompany.com, mycompany.net
#
# Security Note:
# Only add domains you control. Adding third-party domains
# creates security vulnerabilities!
OFFICIAL_DOMAINS=official-domain.com,charge.official-domain.com,app.official-domain.com

# ==============================================================================
# Application Settings
# ==============================================================================

# Application name (for metadata and logging)
APP_NAME=QR Security Service

# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ==============================================================================
# CORS Configuration
# ==============================================================================

# Allowed CORS origins (comma-separated)
# 
# Development: Use "*" to allow all origins
# Production: Specify exact origins for security
# 
# Examples:
# - All origins: *
# - Multiple origins: https://app.mycompany.com,https://mobile.mycompany.com
# - Mobile apps: capacitor://localhost,http://localhost (for Ionic/Capacitor)
#
# Security Warning:
# Using "*" in production allows any website to call your API!
# Always specify exact origins in production.
CORS_ORIGINS=*

# ==============================================================================
# Production Deployment Notes
# ==============================================================================

# 1. Database Security
#    - Change default PostgreSQL password
#    - Use strong passwords (minimum 16 characters)
#    - Consider using managed databases (AWS RDS, Google Cloud SQL)
#    - Enable SSL/TLS for database connections
#
# 2. Domain Configuration
#    - Review OFFICIAL_DOMAINS carefully
#    - Test with typosquatting variations
#    - Regularly update based on new subdomains
#
# 3. CORS Security
#    - Never use "*" in production
#    - Whitelist only necessary origins
#    - Consider using API keys for mobile apps
#
# 4. Monitoring
#    - Enable LOG_LEVEL=INFO or higher
#    - Set up log aggregation (ELK, Splunk, CloudWatch)
#    - Monitor for malicious verdict patterns
#
# 5. Secrets Management
#    - Never commit .env to version control
#    - Use secret management services (AWS Secrets Manager, HashiCorp Vault)
#    - Rotate database credentials regularly
